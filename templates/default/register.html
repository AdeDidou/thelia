{extends file="layout.tpl"}

{block name="breadcrumb"}
    <nav class="nav-breadcrumb" role="navigation" aria-labelledby="breadcrumb-label">
        <strong id="breadcrumb-label">{intl l="You are here"}: </strong>
        <ul class="breadcrumb" itemprop="breadcrumb">
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="index.php" itemprop="url"><span itemprop="title">{intl l="Home"}</span></a></li>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="active"><span itemprop="title">{intl l="Register"}</span></li>
        </ul>
    </nav><!-- /.nav-breadcrumb -->
{/block}


{block name="main-content"}
    <div class="main">

        <article class="col-main" role="main" aria-labelledby="main-label">

            <h1 id="main-label" class="page-header">{intl l="Create New Account"}</h1>
            {form name="thelia.customer.creation"}
            <form id="form-register" class="form-horizontal" action="{url path="/customer/create"}" method="post" role="form">
                {form_field form=$form field='success_url'}
                    <input type="hidden" name="{$name}" value="{navigate to="return_to"}" /> {* the url the user is redirected to on login success *}
                {/form_field}

                {form_field form=$form field='error_message'}
                    <input type="hidden" name="{$name}" value="{intl l="missing or invalid data"}" /> {* the url the user is redirected to on login success *}
                {/form_field}
                {form_hidden_fields form=$form}
                {if $form_error}<div class="alert alert-danger">{$form_error_message}</div>{/if}
                <fieldset id="register-info" class="panel panel">
                    <div class="panel-heading">
                        1. {intl l="Personal Informations"}
                    </div>

                    <div class="panel-body">
                        {form_field form=$form field="title"}
                            <div class="form-group group-title {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <select name="{$name}" id="{$label_attr.for}" class="form-control" required autofocus>
                                        <option value="">-- {intl l="Select Title"} --</option>
                                        {loop type="title" name="country.list"}
                                            <option value="{$ID}" {if $value == $ID}selected{/if} >{$LONG}</option>
                                        {/loop}
                                    </select>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}
                        {form_field form=$form field="firstname"}
                        <div class="form-group group-firstname {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                            <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                            <div class="control-input">
                                <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="John" value="{$value}" required>
                                {if $error }
                                    <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                {elseif $value != "" && !$error}
                                    <span class="help-block"><i class="icon-ok"></i></span>
                                {/if}
                            </div>
                        </div><!--/.form-group-->
                        {/form_field}
                        {form_field form=$form field="lastname"}
                            <div class="form-group group-lastname {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="John" value="{$value}" autofocus required>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}
                        {form_field form=$form field="email"}
                        <div class="form-group group-email {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                            <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>

                            <div class="control-input">
                                <input type="email" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="johndoe@domain.com" required value="{$smarty.get.email|default:$value}">
                                {if $error }
                                    <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                {elseif $value != "" && !$error}
                                    <span class="help-block"><i class="icon-ok"></i></span>
                                {/if}
                            </div>
                        </div><!--/.form-group-->
                        {/form_field}
                        {form_field form=$form field="phone"}
                            <div class="form-group group-phone {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label}</label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="John" value="{$value}" autofocus>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}
                        {form_field form=$form field="cellphone"}
                            <div class="form-group group-cellphone {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label}</label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="John" value="{$value}" autofocus>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}
                    </div>
                </fieldset>

                <fieldset id="register-delivery" class="panel">
                    <div class="panel-heading">
                        2. {intl l="Delivery Informations"}
                    </div>

                    <div class="panel-body">
                        {form_field form=$form field="company"}
                            <div class="form-group group-company {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label}</label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="Thelia" value="{$value}" autofocus>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}

                        {form_field form=$form field="address1"}
                            <div class="form-group group-address1 {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="{$label}" value="{$value}" autofocus required>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}

                        {form_field form=$form field="address2"}
                            <div class="form-group group-address2 {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label}</label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="" value="{$value}" autofocus>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}

                        {form_field form=$form field="city"}
                            <div class="form-group group-city {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="New York" value="{$value}" autofocus required>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}

                        {form_field form=$form field="zipcode"}
                            <div class="form-group group-zip {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <input type="text" name="{$name}" id="{$label_attr.for}" class="form-control" placeholder="H2T 2V6" value="{$value}" autofocus required>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}

                        {form_field form=$form field="country"}
                            <div class="form-group group-country {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <select name="{$name}" id="{$label_attr.for}" class="form-control" required>
                                        <option value="">-- {intl l="Select Country"} --</option>
                                        {loop type="country" name="country.list"}
                                            <option value="{$ID}" {if $value == $ID}selected{/if} >{$TITLE}</option>
                                        {/loop}
                                    </select>
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}
                    </div>
                </fieldset>
                <fieldset id="register-login" class="panel">
                    <div class="panel-heading">
                        3. {intl l="Login Information"}
                    </div>

                    <div class="panel-body">
                        {form_field form=$form field="password"}
                            <div class="form-group group-password {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <input type="password" name="{$name}" id="{$label_attr.for}" class="form-control" required autocomplete="off">
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}

                        {form_field form=$form field="password_confirm"}
                            <div class="form-group group-password_confirm {if $error}has-error{elseif $value != "" && !$error}has-success{/if}">
                                <label class="control-label" for="{$label_attr.for}">{$label} <span class="required">*</span></label>
                                <div class="control-input">
                                    <input type="password" name="{$name}" id="{$label_attr.for}" class="form-control" required autocomplete="off">
                                    {if $error }
                                        <span class="help-block"><i class="icon-remove"></i> {$message}</span>
                                    {elseif $value != "" && !$error}
                                        <span class="help-block"><i class="icon-ok"></i></span>
                                    {/if}
                                </div>
                            </div><!--/.form-group-->
                        {/form_field}
                    </div>
                </fieldset>

                <div class="form-group group-agreed">
                    <div class="control-input">
                        <div class="checkbox">
                            <label class="control-label" for="agreed">
                                <input type="checkbox" name="agreed" id="agreed" value="1" required> I've read and agreed on <a href="#">Terms &amp; Conditions</a>.
                            </label>
                        </div>
                    </div>
                </div><!--/.form-group-->

                <div class="form-group group-btn">
                    <div class="control-btn">
                        <button type="submit" class="btn btn-register">Sign in</button>
                    </div>
                </div><!--/.form-group-->
            </form>
            {/form}
        </article>

    </div><!-- /.layout -->
{/block}