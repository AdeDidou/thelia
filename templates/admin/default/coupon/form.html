{$thelia_page_css_file = "assets/bootstrap-editable/css/bootstrap-editable.css"}
{include file='includes/notifications.html' message=$general_error}
<form action="{$formAction}" {form_enctype form=$form} method="POST" >
    <section class="row-fluid">
        <div class="span12 general-block-decorator">

            {form_hidden_fields form=$form}

            {form_field form=$form field='locale'}
                <input type="hidden" name="{$name}" value="{if $value}{$value}{else}{$edit_language_locale}{/if}" />
            {/form_field}

            {form_field form=$form field='success_url'}
                <input type="hidden" name="{$name}" value="{url path='/admin/coupon/read/{id}'}" />
            {/form_field}

            <div class="span4">
                <div class="control-group">
                    <label for="code">Code :</label>
                    {form_field form=$form field='code'}
                        <input id="code" type="text" name="{$name}" value="{$value}" placeholder="code">
                        {if $error}{$message}{/if}
                    {/form_field}
                </div>

                <div class="control-group">
                    <label for="title">Title :</label>
                    {form_field form=$form field='title'}
                        <input id="title" type="text" name="{$name}" value="{$value}" placeholder="title">
                        {if $error}{$message}{/if}
                    {/form_field}
                </div>

                <div class="control-group">
                    <label for="enabled" class="checkbox">
                        {form_field form=$form field='isEnabled'}
                            <input id="enabled" type="checkbox" name="{$name}" {if $value}value="1" checked{else}value="0"{/if} >
                            {if $error}{$message}{/if}
                        {/form_field}
                        Is enabled ?
                    </label>
                </div>

                <div class="control-group">
                    <label for="available-on-special-offers" class="checkbox">
                        {form_field form=$form field='isAvailableOnSpecialOffers'}
                            <input id="available-on-special-offers" type="checkbox" name="{$name}" {if $value}value="1" checked{else}value="0"{/if} >
                            {if $error}{$message}{/if}
                        {/form_field}
                        Is available on special offers ?
                    </label>
                </div>

                <div class="control-group">
                    <label for="cumulative" class="checkbox">
                        {form_field form=$form field='isCumulative'}
                            <input id="cumulative" type="checkbox" name="{$name}" {if $value}value="1" checked{else}value="0"{/if} >
                            {if $error}{$message}{/if}
                        {/form_field}
                        Is cumulative ?
                    </label>
                </div>

                <div class="control-group">
                    <label for="renoving-postage" class="checkbox">
                        {form_field form=$form field='isRemovingPostage'}
                            <input id="renoving-postage" type="checkbox" name="{$name}" {if $value}value="1" checked{else}value="0"{/if} >
                            {if $error}{$message}{/if}
                        {/form_field}
                        Is removing postage ?
                    </label>
                </div>

                <div class="control-group">
                    <label for="expiration-date">Expiration date :</label>
                    <div class="input-append date" data-date="12/02/2012" data-date-format="dd/mm/yyyy">
                        {form_field form=$form field='expirationDate'}
                            <input type="text" id="expiration-date" name="{$name}" value="{if $defaultDate}{$defaultDate}{else}{$value}{/if}">
                            {if $error}{$message}{/if}
                        {/form_field}
                        <span class="add-on"><span class="icon-th"></span></span>
                    </div>
                </div>

                <div class="control-group">
                    <label for="max-usage">Max usage :</label>
                    <label for="is-unlimited" class="checkbox">
                        <input id="is-unlimited" type="checkbox" name="is-unlimited" checked >
                        Is unlimited ?
                    </label>
                    {form_field form=$form field='maxUsage'}
                        <input id="max-usage" type="text" name="{$name}" value="{$value}" placeholder="max usage">
                        {if $error}{$message}{/if}
                    {/form_field}
                </div>
            </div>

            <div class="span8">
                <div class="well clearfix">
                    <div class="span6">
                        <div class="control-group">
                            <label for="effect">Effect :</label>
                            {form_field form=$form field='effect'}
                                <select name="{$name}" value="{$value}" id="effect" class="span12">
                                    <option value="1" data-description="More description n째1 about item">Remove x percents for category Y</option>
                                    <option value="2" data-description="More description n째2 about item">Remove x percents</option>
                                    <option value="3" data-description="More description n째3 about item">Remove x amount</option>
                                </select>
                                {if $error}{$message}{/if}
                            {/form_field}
                            <span class="help-block">More description n째1 about item</span>
                        </div>
                    </div>

                    <div class="span6">
                        <div class="control-group">
                            <label for="amount">Amount :</label>
                            {form_field form=$form field='amount'}
                                <input id="amount" type="text" name="{$name}" value="{$value}" placeholder="amount">
                                {if $error}{$message}{/if}
                            {/form_field}
                        </div>
                        {*<div class="control-group">*}
                            {*<label for="category">Category :</label>*}
                            {*form_field form=$form field='category'*}
                                {*<select name="{$name}" value="{$value}" id="category">*}
                                    {*<option value="1">Category 1</option>*}
                                    {*<option value="1">Category 2</option>*}
                                    {*<option value="1">Category 3</option>*}
                                {*</select>*}
                                {*if $error}{$message}{/if}*}
                            {*/form_field*}
                        {*</div>*}
                    </div>
                </div>

                <div class="control-group">
                    <label for="short-description">Short description :</label>
                    {form_field form=$form field='shortDescription'}
                        <textarea id="short-description" name="{$name}" placeholder="short description" class="span12" rows="5">{$value nofilter}</textarea>
                        {if $error}{$message}{/if}
                    {/form_field}
                </div>
            </div>

            <div class="clearfix"></div>

            <div class="control-group">
                <label for="description">Long description :</label>
                {form_field form=$form field='description'}
                    <textarea id="description" name="{$name}" placeholder="long description" class="span12 wysiwyg" rows="10">{$value nofilter}</textarea>
                    {if $error}{$message}{/if}
                {/form_field}
            </div>

            <button type="submit" class="btn btn-primary">Save</button>

        </div>
    </section>

    <section class="row-fluid">
        <div class="span12 general-block-decorator">
            <table class="table table-striped">
                <caption class="clearfix">
                    Rules
                    <a class="btn btn-primary pull-right" title="Add a new rule">
                        <span class="icon-plus-sign icon-white"></span>
                    </a>
                </caption>
                <thead>
                <tr>
                    <th>Conditions</th>
                    <th>Operator</th>
                    <th>Value</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Total Amount</td>
                    <td><span class="label">is superior or equals to</span></td>
                    <td>300 &euro;</td>
                    <td>
                        <a href="#url" class="btn btn-primary btn-medium"><span class="icon-edit icon-white"></span> Edit</a>
                        <a href="#url" class="btn btn-danger btn-medium" data-toggle="confirm" data-target="#delete"><span class="icon-remove icon-white"></span> Delete</a>
                    </td>
                </tr>
                <tr>
                    <td><span class="label">AND</span> NbArticleFromCategory</td>
                    <td><span class="label">is equals to</span></td>
                    <td>12 - <a href="#" target="_blank">Chaussettes rouges</a></td>
                    <td>
                        <a href="#url" class="btn btn-primary btn-medium"><span class="icon-edit icon-white"></span> Edit</a>
                        <a href="#url" class="btn btn-danger btn-medium" data-toggle="confirm" data-target="#delete"><span class="icon-remove icon-white"></span> Delete</a>
                    </td>
                </tr>
                <tr>
                    <td><span class="label label-info">OR</span> Date</td>
                    <td><span class="label">is inferior or equals to</span></td>
                    <td>12/02/2014</td>
                    <td>
                        <a href="#url" class="btn btn-primary btn-medium"><span class="icon-edit icon-white"></span> Edit</a>
                        <a href="#url" class="btn btn-danger btn-medium" data-toggle="confirm" data-target="#delete"><span class="icon-remove icon-white"></span> Delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="row-fluid">
        <div class="span12 general-block-decorator">

            <div class="control-group span2">
                <label for="type">Condition type :</label>
                <label class="radio">
                    <input type="radio" name="type" id="type" value="1" checked> And
                </label>
                <label class="radio">
                    <input type="radio" name="type" value="2"> Or
                </label>
            </div>

            <div class="control-group span4">
                <label for="category-rule">Rule's category :</label>
                <select name="categoryRule" id="category-rule">
                    <option value="1" selected>Total amount</option>
                    <option value="2">Date</option>
                    <option value="3">NbArtFromCategory</option>
                </select>

                <label for="category-rule">Rule's category :</label>
                <select name="categoryRule" id="category-rule">
                    <option value="1">Total amount</option>
                    <option value="2" selected>Date</option>
                    <option value="3">NbArtFromCategory</option>
                </select>

                <label for="category-rule">Rule's category :</label>
                <select name="categoryRule" id="category-rule">
                    <option value="1">Total amount</option>
                    <option value="2">Date</option>
                    <option value="3" selected>NbArtFromCategory</option>
                </select>
            </div>

            <div class="control-group span6">
                <label for="operator">Operator :</label>
                <div class="controls">
                    <select name="operator" id="operator">
                        <option value="1">is superior to</option>
                        <option value="2">equals to</option>
                        <option value="3">is inferior to</option>
                        <option value="4">is inferior or equals to</option>
                        <option value="5">is superior or equals to</option>
                    </select>
                    <div class="input-append input-prepend">
                        <span class="add-on">&euro;</span>
                        <input type="text" name="value" class="input-mini">
                        <button class="add-on btn btn-primary"><span class="icon-plus icon-white"></span></button>
                    </div>
                </div>

                <label for="operator">Operator :</label>
                <div class="controls">
                    <select name="operator" id="operator">
                        <option value="1">is superior to</option>
                        <option value="2">equals to</option>
                        <option value="3">is inferior to</option>
                        <option value="4">is inferior or equals to</option>
                        <option value="5">is superior or equals to</option>
                    </select>
                    <div class="input-append input-prepend date" data-date="12/02/2012" data-date-format="dd/mm/yyyy">
                        <span class="add-on"><span class="icon-th"></span></span>
                        <input type="text" name="value" class="input-mini">
                        <button class="add-on btn btn-primary"><span class="icon-plus icon-white"></span></button>
                    </div>
                </div>

                <label for="operator">Operator :</label>
                <div class="controls">
                    <select name="operator" id="operator">
                        <option value="1">is superior to</option>
                        <option value="2">equals to</option>
                        <option value="3">is inferior to</option>
                        <option value="4">is inferior or equals to</option>
                        <option value="5">is superior or equals to</option>
                    </select>
                    <input type="text" name="value" class="input-mini">

                    <table class="table table-bordered">
                        <tr>
                            <td id="minibrowser-breadcrumb"></td>
                        </tr>
                        <tr>
                            <th><span class="icon-th-list"></span> Categories list</th>
                        </tr>
                        <tr>
                            <td id="minibrowser-categories"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </section>
</form>

